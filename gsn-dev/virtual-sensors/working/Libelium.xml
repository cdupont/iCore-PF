<virtual-sensor name="Libelium" priority="10">
	<processing-class>
		<class-name>gsn.vsensor.WaspmoteVS</class-name>
		<init-params></init-params>
		<output-structure>
			<!-- <field name="RAW_PACKET" type="binary" /> -->
			<field name="ID" type="integer" />
			<field name="X" type="integer" />
			<field name="Y" type="integer" />
			<field name="Z" type="integer" />
			<field name="Temperature" type="double" />
			<field name="Battery" type="double" />
		</output-structure>
	</processing-class>
	<description>serial port reading</description>
	<life-cycle pool-size="10"></life-cycle>
	<addressing>
		<predicate key="description">test a serial stream reader</predicate>
	</addressing>
	<streams>
		<stream name="libelium_stream">
			<source alias="libelium_alias" sampling-rate="1" storage-size="1">
				<address wrapper="serial">
					<predicate key="serialport">COM7</predicate>
					<predicate key="baudrate">38400</predicate>
					<predicate key="flowcontrolmode">FLOWCONTROL_NONE</predicate>
					<predicate key="databits">8</predicate>
					<predicate key="parity">PARITY_NONE</predicate>
					<predicate key="stopbits">1</predicate>
					<predicate key="representation">binary</predicate>
					<predicate key="packet-length">400</predicate>
					<predicate key="inputseparator">system</predicate>
				</address>
				<query>SELECT * FROM wrapper</query>
			</source>
			<query>SELECT * FROM libelium_alias</query>
		</stream>
	</streams>	
</virtual-sensor> 